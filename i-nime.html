<!doctype html>
<html>
<head>
   <title>i-nime</title>
<meta charset="utf-8">
<!--<meta name="viewport" content="width=device-width, initial-scale=1">-->
<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<link href='http://fonts.googleapis.com/css?family=Sigmar+One' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Crimson+Text' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="style2.css">
</head>
<body>
  
  <div class="menu">
    <div class="close-icon">
      <img src="anime_pics/close_icon.png" alt="close_icon">
    </div>
    <ul>
      <li>something-a</li>
      <li>something-b</li>
      <li>something-c</li>
      <li>something-d</li>
    </ul>
  </div>

  <div class="header-container">
    <header class="beast-header ">
      <div class="menu-icon"><h3>MENU</h3></div>
      <h1 class="text-center">i-nime !!</h1>
      <h4 class="text-center">I-nime Studios Project i-1</h4>
    </header>
    <div id="myCarousel" class="carousel slide" data-ride="carousel">
      <!-- Indicators -->
      <ol class="carousel-indicators">
        <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
        <li data-target="#myCarousel" data-slide-to="1"></li>
        <li data-target="#myCarousel" data-slide-to="2"></li>
        <li data-target="#myCarousel" data-slide-to="3"></li>
      </ol>
  
          <!-- Wrapper for slides -->
      <div class="carousel-inner" role="listbox">     
        <div class="item active">
          <img src="anime_pics/onePiece.jpg" alt="One Piece">
          <div class="carousel-caption item-info">
            <iframe id="player1" class="embed-responsive-item" width="300" height="250" src="https://www.youtube.com/embed/_WrsBkP19bQ?enablejsapi=1" frameborder="0"></iframe>
          </div>
        </div>
        
        <div class="item">
          <img src="anime_pics/dragonBallS.jpg" alt="Dragon Ball Super">
          <div class="carousel-caption item-info">
             <iframe id="player2" class="embed-responsive-item" width="300" height="250" src="https://www.youtube.com/embed/WiONylGn8Xw?enablejsapi=1" frameborder="0"></iframe>
           </div>
        </div>
      
        <div class="item">
          <img src="anime_pics/shokugekiNoSouma.jpg" alt="Shokugeki No Souma">
          <div class="carousel-caption item-info">
             <iframe id="player3" class="embed-responsive-item" width="300" height="250" src="https://www.youtube.com/embed/wtxYvpc8xr0?enablejsapi=1" frameborder="0"></iframe>
           </div>
        </div>
       
        <div class="item">
          <img src="anime_pics/fairyTail.png" alt="Fairy Tail">
          <div class="carousel-caption item-info">
             <iframe id="player4" class="embed-responsive-item" width="300" height="250" src="https://www.youtube.com/embed/HQJ34jAQKrI?enablejsapi=1" frameborder="0"></iframe>
           </div>
        </div>
      </div>
          
      <!-- Left and right controls -->
      <div class= "carousel-actions">
        <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
          <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
            <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
      </div>	
    </div>
  </div>
  
  
  <!-- Jason -->
  <div class="container">
    <div><hr></div>
    <div>
      <h2>Recently Added</h2>
    </div>

    <div class="row">
      <div class="col-md-3">
        <a href="https://www.youtube.com/watch?v=oZ67d9XSjFs" target="_blank">
          <img src="anime_pics/bleach.jpg" class="img-responsive">
        </a>
      </div>
      <div class="col-md-3">
        <a href="https://www.youtube.com/watch?v=Qyonn5Vbg7s" target="_blank">
          <img src="anime_pics/naruto.jpg" class="img-responsive">
        </a>
      </div>
      <div class="col-md-3">
        <a href="https://www.youtube.com/watch?v=GLq6qXtgcGg" target="_blank">
          <img src="anime_pics/slam_dunk.JPG" class="img-responsive">
        </a>
      </div>
      <div class="col-md-3">
        <a href="https://www.youtube.com/watch?v=ecrypvIG9-8" target="_blank">
          <img src="anime_pics/gundam.jpg" class="img-responsive">
        </a>
      </div>
    </div>

    <div id="popular-button">
      <button>See Popular</button>
    </div>

    <div><hr></div>
  </div>
  <script src="my_java_script.js"></script>
  <script>
  	var player1 ;
	var player2 ;
	var player3 ;
	var player4 ;
	var active_slide_video_id;
	var index = 0;
	var ytInit = function()
	{
		//active_slide_video_id = $(".carousel-inner").find("iframe").attr("id");		
		
		//for each (var myId in active-slide_video_id)
//		{
//			$("h1").append(myId);
//			player[index] = new YT.Player( myId , {
//							events: { 'onStateChange': onPlayerStateChange }
//							});
//			index++;
//		}


		player1 = new YT.Player( 'player1' , {
		events: { 'onReady': onPlayerReady,
				  'onStateChange': onPlayerStateChange }
		});
		player2 = new YT.Player( 'player2' , {
		events: { 'onReady': onPlayerReady,
				  'onStateChange': onPlayerStateChange }
		});
		player3 = new YT.Player( 'player3' , {
		events: { 'onReady': onPlayerReady,
				  'onStateChange': onPlayerStateChange }
		});
		player4 = new YT.Player( 'player4' , {
		events: { 'onReady': onPlayerReady,
				  'onStateChange': onPlayerStateChange }
		});
		
		function onPlayerStateChange(event) {
			switch(event.data) {
				case 0: /*video ended*/
					$("#myCarousel").carousel('cycle');
					onYouTubeIframeAPIReady();
					break;
				case 1:/*video playing*/
					$("#myCarousel").carousel('pause');
					break;
				case 2:/*video paused*/
					$("#myCarousel").carousel('cycle');
					onYouTubeIframeAPIReady();
					break;
			}
		}
	}
	
	function onPlayerReady(event)
	{
		//active_slide_video_id = $(".carousel-inner").find(".active").find("iframe").attr("id");
		$(".carousel-control").on("click", function(){
			player1.stopVideo();
			player2.stopVideo();
			player3.stopVideo();
			player4.stopVideo();
		});
	}
	
	function onYouTubeIframeAPIReady()
	{
		ytInit();
		///$("#myCarousel").on("slide", slideVideoStop);
	}
	
	
		
  </script>
  <script src="https://www.youtube.com/iframe_api"></script>
</body>
</html>
